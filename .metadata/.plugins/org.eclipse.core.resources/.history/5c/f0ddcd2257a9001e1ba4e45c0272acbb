package Test;

import javax.swing.*;
import java.awt.*;

class SpacedListCellRenderer implements ListCellRenderer<Component> {
    private int spacing;

    public SpacedListCellRenderer(int spacing) {
        this.spacing = spacing;
    }

    @Override
    public Component getListCellRendererComponent(JList<? extends Component> list, Component value, int index, boolean isSelected, boolean cellHasFocus) {
        JPanel panel = new JPanel();
        panel.setLayout(new BorderLayout());

        // Tạo khoảng trống giữa các phần tử bằng cách thêm Insets cho Panel
        Insets insets = new Insets(spacing, 0, 0, 0);
        panel.setBorder(Box.createEmptyBorder(insets.top, insets.left, insets.bottom, insets.right));
        // Thêm Panel vào layout
        panel.add(value, BorderLayout.CENTER);

        // Tô màu nền của Panel dựa trên trạng thái của phần tử
        Color background;
        if (isSelected) {
            background = list.getSelectionBackground();
        } else {
            background = list.getBackground();
        }
        panel.setOpaque(true);
        panel.setBackground(background);

        return (Component) panel;
    }
}

public class PanelInJListExample {
    public static void main(String[] args) {
        SwingUtilities.invokeLater(() -> {
            JFrame frame = new JFrame("Spaced JList Example");
            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

            // Danh sách các phần tử
            JPanel[] data = {
                    createColoredPanel(Color.RED),
                    createColoredPanel(Color.GREEN),
                    createColoredPanel(Color.BLUE),
                    createColoredPanel(Color.YELLOW),
                    createColoredPanel(Color.ORANGE)
            };

            // Tạo JList và thiết lập Renderer
            JList<Component> jList = new JList<>(data);
            jList.setCellRenderer(new SpacedListCellRenderer(10)); // Đặt khoảng trống là 10 pixels

            // Đặt JList vào JScrollPane
            JScrollPane scrollPane = new JScrollPane(jList);

            // Thêm JScrollPane vào JFrame
            frame.getContentPane().add(scrollPane);

            frame.setSize(300, 200);
            frame.setLocationRelativeTo(null);
            frame.setVisible(true);
        });
    }

    private static JPanel createColoredPanel(Color color) {
        JPanel panel = new JPanel();
        panel.setBackground(color);
        panel.setPreferredSize(new Dimension(50, 50));
        return panel;
    }
}

