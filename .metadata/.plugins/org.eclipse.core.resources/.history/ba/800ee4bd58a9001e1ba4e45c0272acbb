package Test;

import javax.swing.*;
import java.awt.*;
import java.util.ArrayList;
import java.util.List;

class CustomPanel extends JPanel {
    private String text;

    public CustomPanel(String text) {
        this.text = text;
        setPreferredSize(new Dimension(100, 50));
    }

    @Override
    protected void paintComponent(Graphics g) {
        super.paintComponent(g);
        g.drawString(text, 10, 20);
    }
}

class CustomCellRenderer implements ListCellRenderer<CustomPanel> {
    private int gap;

    public CustomCellRenderer(int gap) {
        this.gap = gap;
    }

    @Override
    public Component getListCellRendererComponent(JList<? extends CustomPanel> list, CustomPanel value, int index,
                                                  boolean isSelected, boolean cellHasFocus) {
        JPanel panel = new JPanel();
        panel.setLayout(new BorderLayout());
        panel.add(value, BorderLayout.CENTER);
        panel.setBorder(BorderFactory.createEmptyBorder(gap, gap, gap, gap));

        if (isSelected) {
            panel.setBackground(list.getSelectionBackground());
            panel.setForeground(list.getSelectionForeground());
        } else {
            panel.setBackground(list.getBackground());
            panel.setForeground(list.getForeground());
        }

        return panel;
    }
}

public class PanelInJListExample {
    public static void main(String[] args) {
        SwingUtilities.invokeLater(() -> {
            JFrame frame = new JFrame("JList with Gap");
            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

            List<CustomPanel> dataList = new ArrayList<>();
            for (int i = 1; i <= 10; i++) {
                dataList.add(new CustomPanel("Item " + i));
            }

            JList<CustomPanel> jList = new JList<>(dataList.toArray(new CustomPanel[0]));
            jList.setCellRenderer(new CustomCellRenderer(10));

            JScrollPane scrollPane = new JScrollPane(jList);
            frame.add(scrollPane);

            frame.setSize(300, 300);
            frame.setLocationRelativeTo(null);
            frame.setVisible(true);
        });
    }
}
